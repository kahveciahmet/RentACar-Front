<div *ngIf="!dataLoaded" class="d-flex justify-content-center">
  <div class="spinner-border text-success" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>

<div *ngIf="dataLoaded && car">
  <h2>{{ car.brandName }} {{ car.modelYear }} Detayları</h2>

  <!-- Kaydırmalı Galeri Başlangıcı -->
  <div class="image-gallery">
    <div class="image-gallery-wrapper">
      <div *ngFor="let image of carImages" class="image-gallery-item">
        <img [src]="image" alt="Araba Resmi" (click)="openImage(image)">
      </div>
    </div>
  </div>
  <!-- Kaydırmalı Galeri Bitişi -->

  <table class="table table-striped">
    <tbody>
      <tr>
        <th>Marka</th>
        <td>{{ car.brandName }}</td>
      </tr>
      <tr>
        <th>Renk</th>
        <td>{{ car.colorName }}</td>
      </tr>
      <tr>
        <th>Model Yılı</th>
        <td>{{ car.modelYear }}</td>
      </tr>
      <tr>
        <th>Günlük Fiyat</th>
        <td>{{ car.dailyPrice }}</td>
      </tr>
      <tr>
        <th>Açıklama</th>
        <td>{{ car.description }}</td>
      </tr>
      <tr>
        <th>Vites Tipi</th>
        <td>{{ car.transmissionType }}</td>
      </tr>
      <tr>
        <th>Günlük Km Limiti</th>
        <td>{{ car.dailyKmLimit }}</td>
      </tr>
      <tr>
        <th>Oturma Kapasitesi</th>
        <td>{{ car.seatingCapacity }}</td>
      </tr>
      <tr>
        <th>Minimum Ehliyet Yaşı</th>
        <td>{{ car.licenseAge }}</td>
      </tr>
      <tr>
        <th>Minimum Yaş</th>
        <td>{{ car.renterAge }}</td>
      </tr>
      <tr>
        <td colspan="2"><button (click)="rentCar(car)" type="button" class="btn btn-outline-success full-width-btn">Kiralamak için tıkla!</button></td>
      </tr>
    </tbody>
  </table>
</div>

<div id="imageModal" class="modal" (click)="closeImage()">
  <span class="close" (click)="closeImage()">&times;</span>
  <img class="modal-content" id="modalImage" [src]="selectedImage">
  <div class="caption">{{ car?.description }}</div>
</div>
